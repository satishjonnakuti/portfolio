{% extends 'base.html' %}
{% block content %}

<form method="post" action="{{ url_for('add_task') }}" class="card">
	<label for="title">New task</label>
	<div class="row">
		<input type="text" id="title" name="title" placeholder="e.g. Buy milk" autofocus>
		<button type="submit">Add</button>
	</div>
</form>

<div class="tabs">
	<a class="tab {{ 'active' if filter_value == 'pending' else '' }}" href="{{ url_for('index', filter='pending') }}">Pending</a>
	<a class="tab {{ 'active' if filter_value == 'completed' else '' }}" href="{{ url_for('index', filter='completed') }}">Completed</a>
	<a class="tab {{ 'active' if filter_value == 'all' else '' }}" href="{{ url_for('index', filter='all') }}">All</a>
</div>

<ul class="list">
	{% for t in tasks %}
	<li class="list-item">
		<form method="post" action="{{ url_for('toggle_task', task_id=t.id, filter=filter_value) }}" class="inline">
			<button class="check {{ 'done' if t.completed else '' }}" aria-label="Toggle">{{ 'âœ“' if t.completed else '' }}</button>
		</form>
		<span class="title {{ 'completed' if t.completed else '' }}">{{ t.title }}</span>
		<div class="actions">
			<a class="btn" href="{{ url_for('edit_task_get', task_id=t.id) }}">Edit</a>
			<form method="post" action="{{ url_for('delete_task', task_id=t.id) }}" class="inline">
				<button class="btn danger">Delete</button>
			</form>
		</div>
	</li>
	{% else %}
	<li class="empty">No tasks here yet.</li>
	{% endfor %}
</ul>

{% endblock %}

